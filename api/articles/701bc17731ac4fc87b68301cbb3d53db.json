{"title":"Pixhawk飞控事件汇总","uid":"701bc17731ac4fc87b68301cbb3d53db","slug":"701bc17731ac4fc87b68301cbb3d53db","date":"2024-06-21T16:54:26.000Z","updated":"2024-06-22T03:31:15.000Z","comments":true,"path":"api/articles/701bc17731ac4fc87b68301cbb3d53db.json","keywords":null,"cover":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/Pixhawk-1.jpg","content":"<p>最近装调课上体验了Pixhawk飞控的配置与调试，遇到了一些问题，大多数问题都在网上能查到解决方法，蜂鸣器报错含义在Pixhawk官网上也有，难度也就不那么大了。</p>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p>[蜂鸣器含义]: <a href=\"https://docs.px4.io/v1.11/zh/getting_started/tunes.html\">https://docs.px4.io/v1.11/zh/getting_started/tunes.html</a>\t“蜂鸣器含义”<br>[LED 含义（Pixhawk系列）]: <a href=\"https://docs.px4.io/main/zh/getting_started/led_meanings.html#led-%E7%8A%B6%E6%80%81\">https://docs.px4.io/main/zh/getting_started/led_meanings.html#led-%E7%8A%B6%E6%80%81</a>\t“LED 含义（Pixhawk系列）”<br>[LED闪烁]: <a href=\"https://ardupilot.org/copter/docs/common-leds-pixhawk.html#led-buzzer-meanings\">https://ardupilot.org/copter/docs/common-leds-pixhawk.html#led-buzzer-meanings</a>\t“LED闪烁”</p>\n</p>\n</div>\n<h2 id=\"测试器材\"><a href=\"#测试器材\" class=\"headerlink\" title=\"测试器材\"></a>测试器材</h2><p>电脑（需安装Mission Planner），电池，Pixhawk飞控，安全开关，蜂鸣器，PPM编码器（PPM Encoder），接收机，电调，电机，分电板，电源分线器（由于不知道叫什么所以编了个名字）</p>\n<h2 id=\"测试步骤\"><a href=\"#测试步骤\" class=\"headerlink\" title=\"测试步骤\"></a>测试步骤</h2><h3 id=\"给Pixhawk飞控刷写固件：\"><a href=\"#给Pixhawk飞控刷写固件：\" class=\"headerlink\" title=\"给Pixhawk飞控刷写固件：\"></a>给Pixhawk飞控刷写固件：</h3><p>　　先连接蜂鸣器（飞控上为Buzzer接口），用数据线将飞控连接电脑，打开Mission Planner，注意此时不要在右上角选择串口进行连接，只要数据线连上就行了。</p>\n<p>　　点击左上角的初始设置，找到安装固件，选择设备类型，这里我们课上以四旋翼为例。固件平台选择Pixhawk1，点击确认升级，然后按照提示走即可。</p>\n<p>　　最后，若刷写成功，则进度条左下角Status显示为Upload Done，并且飞控自动进行自检后开机（注意听蜂鸣器），否则显示为Error，且飞控会处于通电但一直无法开机。</p>\n<h3 id=\"连接并调试接收机：\"><a href=\"#连接并调试接收机：\" class=\"headerlink\" title=\"连接并调试接收机：\"></a>连接并调试接收机：</h3><p>　　在飞控断电关机的状态下在RC in接口插上PPM编码器（线少的一端的红白黑三线接口插上飞控的RC in），检查PPM编码器线多的一端，以这一端的红白黑三线接口为通道1依次按顺序连接接收机。</p>\n<p>　　连接好之后飞控插上数据线通电待其自检开机，此时接收机已经通电，就可以开始对码了。</p>\n<h3 id=\"校准飞控：\"><a href=\"#校准飞控：\" class=\"headerlink\" title=\"校准飞控：\"></a>校准飞控：</h3><p>　　使用数据线将电脑与飞控连接之后在Mission Planner右上角选择串口（如COM5），再点击连接按钮，就能成功连接飞控了。由于我们测试时没有接gps以及指南针，所以这里就只校准机架类型和加速度计以及遥控器。</p>\n<p>　　点击Mission Planner左上方初始设置，在左侧栏中点击必要硬件，选择机架类型，按照实际情况选择。然后点击加速度计校准，点击开始，Mission Planner会提示你校准步骤，按照步骤来就好。（校准完毕之后尝试断电再通电重启飞控，避免出现Accels calibrated requires reboot）</p>\n<p>　　最后进行遥控器校准，在校准界面中能够看到遥控器各个通道的杆量，注意哪些通道反了，以及切换飞行模式的通道是哪一个（若拨动到切换飞行模式的开关了，飞控的蜂鸣器将会提示），根据实际情况以及个人喜好在遥控器上调整通道，然后在Mission Planner的遥控器校准界面点击开始校准并根据提示完成校准。</p>\n<h3 id=\"连接并校准电调及电机：\"><a href=\"#连接并校准电调及电机：\" class=\"headerlink\" title=\"连接并校准电调及电机：\"></a>连接并校准电调及电机：</h3><p>　　我们拿到的东西直接就是完整的机臂，其上安装的电机已经与电调连接。</p>\n<p>　　将电调连接到分电板上，可能需要烙铁焊锡，然后在飞控未通电的情况下将电调上的信号线（我们测试使用的电调的杜邦线为黑白双线接口）连接到飞控上，应接到飞控上面的main口中的1到4（注意正负极，没有正极也要注意负极），将安全开关也接入到飞控上，在Switch接口。将电源分线器上的较细小的接口线接到飞控的Power口上，然后将电源分线器对应电池和分电板的接口连接上，这样就将整个结构全部通电了。</p>\n<p>　　此时将数据线再次连接飞控和电脑并点击连接按钮，待连接成功之后在左上角 初始设置 - 必要硬件 中找到ESC Calibration，也就是电调校准，点击开始，然后拔掉电池，再拔掉数据线，达到全部关机的状态，然后插上电池，确保没有连接数据线，此时飞控开机后指示灯闪烁红蓝绿色，这说明飞控处于电调检测模式，按下安全开关，待其红色常亮，电调或者飞控发出三声连续响声，就算是自检过了。然后飞控接上电池，通电开机，若正常开机了，而没有出现ESC校准模式（红蓝绿三灯闪烁）就算校准完成。</p>\n<h3 id=\"设置飞行模式：\"><a href=\"#设置飞行模式：\" class=\"headerlink\" title=\"设置飞行模式：\"></a>设置飞行模式：</h3><p>　　在遥控器校准时找到飞行模式开关，按照实际情况设置，最好是三段式拨杆。</p>\n<p>　　用数据线连接飞控并选择串口点击连接，待连接成功后，左上角 初始设置 - 必要硬件 - 飞行模式。所有飞行模式都可以解锁，但是大部分模式要求GPS已经校准或者已定义过航点，我们没有连接GPS和指南针的情况下确保当前飞行模式为Stabilize（自稳模式）就行了。将飞行模式开关拨动后会选中的三个飞行模式的槽位中的其中一个改成Stabilize，然后点击保存。</p>\n<p>　　在飞行数据界面拨动飞行模式开关，显示为Stabilize就说明可以解锁并启动电机了。按下安全开关直至其红灯常亮，再遥控器内八解锁。能够解锁的提示音应该是长响，若为其它提示音而且不能解锁，请查看本页面顶部的蜂鸣器含义（这里的蜂鸣器指的是飞控的，需注意电机和电调也会响，不了解是为什么出现声音报错请对照教材或者在网上查询资料）。</p>\n<h2 id=\"报错信息\"><a href=\"#报错信息\" class=\"headerlink\" title=\"报错信息\"></a>报错信息</h2><table>\n<thead>\n<tr>\n<th align=\"center\">报错</th>\n<th align=\"center\">原因&#x2F;解释</th>\n<th align=\"center\">解决方法</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">Accels calibrated requires reboot</td>\n<td align=\"center\">飞控在校准加速度计之后必须重启</td>\n<td align=\"center\">重启飞控</td>\n</tr>\n<tr>\n<td align=\"center\">Accels inconsistent</td>\n<td align=\"center\">飞控的两个加速度计的读数存在较大差异</td>\n<td align=\"center\">重新校准加速度计</td>\n</tr>\n<tr>\n<td align=\"center\">3D Accel calibration needed</td>\n<td align=\"center\">还没有进行过加速度计校准</td>\n<td align=\"center\">校准加速度计</td>\n</tr>\n<tr>\n<td align=\"center\">Motors Emergency Stopped</td>\n<td align=\"center\">这实际上是一个功能，用于紧急停止电机</td>\n<td align=\"center\">在 配置&#x2F;调试 界面中高级设置找到并改为Do nothing</td>\n</tr>\n</tbody></table>\n<p>以上是常遇到的报错信息，基本上照着解决方法做就能搞定。</p>\n<p>若Motors Emergency Stopped在尝试解决方法中的内容后还一直存在，大概率是电调的问题，请尝试校准电调。</p>\n<p>若没有任何报错信息，且遥控器也能够解锁电机，但是电机却不旋转，有可能是MOT_SPIN_MIN和MOT_SPIN_ARM的数值问题，可以到全部参数表查看（部分老版本Mission Planner在全部参数表不会显示默认参数，我的建议是安装最新版的Mission Planner）</p>\n<p>为什么要用到PPM编码器？我个人认为是我们当前使用的遥控器不支持输出PPM信号，则将8个PWM信号输出给PPM编码器，编码器将8个PWM信号整合成一个PPM信号传递给飞控的RC in接口</p>\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">WARNING</p>\n<p>每一次尝试解锁失败时，请务必检查当前飞行模式是否为Stabilize！</p>\n</div>\n","feature":true,"text":"最近装调课上体验了Pixhawk飞控的配置与调试，遇到了一些问题，大多数问题都在网上能查到解决方法，蜂鸣器报错含义在Pixhawk官网上也有，难度也就不那么大了...","permalink":"/post/701bc17731ac4fc87b68301cbb3d53db","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"课程","slug":"课程","count":4,"path":"api/categories/课程.json"}],"tags":[{"name":"装调","slug":"装调","count":1,"path":"api/tags/装调.json"},{"name":"飞控","slug":"飞控","count":1,"path":"api/tags/飞控.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95%E5%99%A8%E6%9D%90\"><span class=\"toc-text\">测试器材</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">测试步骤</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%99Pixhawk%E9%A3%9E%E6%8E%A7%E5%88%B7%E5%86%99%E5%9B%BA%E4%BB%B6%EF%BC%9A\"><span class=\"toc-text\">给Pixhawk飞控刷写固件：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E6%8E%A5%E5%B9%B6%E8%B0%83%E8%AF%95%E6%8E%A5%E6%94%B6%E6%9C%BA%EF%BC%9A\"><span class=\"toc-text\">连接并调试接收机：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A0%A1%E5%87%86%E9%A3%9E%E6%8E%A7%EF%BC%9A\"><span class=\"toc-text\">校准飞控：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E6%8E%A5%E5%B9%B6%E6%A0%A1%E5%87%86%E7%94%B5%E8%B0%83%E5%8F%8A%E7%94%B5%E6%9C%BA%EF%BC%9A\"><span class=\"toc-text\">连接并校准电调及电机：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E9%A3%9E%E8%A1%8C%E6%A8%A1%E5%BC%8F%EF%BC%9A\"><span class=\"toc-text\">设置飞行模式：</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">报错信息</span></a></li></ol>","author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"CC项目如何使用计算机集群功能","uid":"1522143e4defc151fca457b7d922878e","slug":"1522143e4defc151fca457b7d922878e","date":"2024-05-14T15:53:31.000Z","updated":"2024-05-14T18:43:22.000Z","comments":true,"path":"api/articles/1522143e4defc151fca457b7d922878e.json","keywords":null,"cover":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/Konachan.com%20-%20254840%20sample.jpg","text":"最近航测课的实训作业下来了，其正射影像的照片大约900到1000多张图片，倾斜影像更是高达5000张。这些照片跑的项目对于单独的笔记本电脑来说负担相当大，要耗费...","permalink":"/post/1522143e4defc151fca457b7d922878e","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"航测","slug":"航测","count":1,"path":"api/categories/航测.json"},{"name":"课程","slug":"航测/课程","count":1,"path":"api/categories/航测/课程.json"}],"tags":[{"name":"ContextCaptureCenter","slug":"ContextCaptureCenter","count":1,"path":"api/tags/ContextCaptureCenter.json"},{"name":"软件","slug":"软件","count":2,"path":"api/tags/软件.json"}],"author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}