{"title":"CC项目如何使用计算机集群功能","uid":"1522143e4defc151fca457b7d922878e","slug":"1522143e4defc151fca457b7d922878e","date":"2024-05-14T15:53:31.000Z","updated":"2024-05-14T18:43:22.000Z","comments":true,"path":"api/articles/1522143e4defc151fca457b7d922878e.json","keywords":null,"cover":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/Konachan.com%20-%20254840%20sample.jpg","content":"<p>最近航测课的实训作业下来了，其正射影像的照片大约900到1000多张图片，倾斜影像更是高达5000张。这些照片跑的项目对于单独的笔记本电脑来说负担相当大，要耗费极大量时间来出结果图。而ContextCapture Center提供了计算机集群运算的功能，对于Pix4Dmapper本地处理仅能单个计算机运行要多出一个选择。</p>\n<p>该功能基于<strong>UNC网络路径</strong>来让软件识别<code>资源路径</code>，<code>任务序列路径</code>，以及<code>项目路径</code>，意味着计算机集群功能需要靠网络将计算机连接在一起达到互相通信的效果。已经测试过的情况为<code>以太网网线连接</code>，<code>雷电数据线作为网线连接</code>，主要是因为我主观认为有线连接的传输效率要高于无线网络传输，但是理论上使用无线网络在同一局域网下的计算机或者拥有公网ip的计算机也能够按照即将介绍的方法进行配置并使用计算机集群功能处理项目</p>\n<p>以下针对ContextCapture Center计算机集群的配置过程作一个示例。</p>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><p>示例为两台电脑，<strong>计算机A</strong>，<strong>计算机B</strong></p>\n<h3 id=\"设置网络\"><a href=\"#设置网络\" class=\"headerlink\" title=\"设置网络\"></a>设置网络</h3><p>使用网线将两台电脑连接，此时两台电脑上的以太网适配器都会提示已接入未知网络，这是因为并没有路由器介于该网络中，没有DHCP服务自动分配ip地址，这里需要<strong>手动给计算机A和计算机B设置ip地址</strong></p>\n<p>比如，计算机A为192.168.100.100，计算机B为192.168.100.101，子网掩码都默认为255.255.255.0。设置好后两台电脑就算处于同一局域网下了</p>\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">WARNING</p>\n<p>注意：下面设置ip地址的步骤需要<strong>分别在两台电脑上操作</strong>，并非一台电脑就能操作的哦</p>\n</div>\n<p>打开<code>控制面板</code>，选择并点击<code>网络和Internet</code>&gt;<code>网络和共享中心</code>，这里会列出电脑的网络连接，其中我们需要查看并修改的是以太网的连接，它应该显示为<code>未识别的网络</code>且访问类型为<code>无法连接到Internet</code>。在以太网状态的窗口中点击<code>属性</code>，然后在弹出来的以太网属性窗口中确保<code>Microsoft 网络的文件和打印机共享</code>和<code>Microsoft 网络客户端</code>这两项是勾选上了的，再鼠标双击打开<code>Internet 协议版本4（TCP/IPV4）</code>，我这里继续按照上面举的例子设置<img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240515014800641.png\" alt=\"以太网属性\"></p>\n<p>不过想要计算机A和计算机B能够互相访问还需要<strong>关闭防火墙</strong>并<strong>开启磁盘共享</strong>。两台电脑都在Windows安全中心关闭网络防火墙之后按下Win + R输入cmd并点击运行，在弹出来的命令行窗口按照下面输入：</p>\n<pre><code class=\"language-powershell\">#计算机B输入：\nping 192.168.100.100\n#计算机A输入：\nping 192.168.100.101\n</code></pre>\n<p>若提示<strong>超时</strong>或者<strong>没有回应</strong>，大概率是防火墙的问题，请百度如何关闭Windows防火墙。</p>\n<p>若反馈都为有回复且没有丢包，那就说明两台电脑之间已经可以互相通信了。但是目前还不能互相访问其中的文件。</p>\n<h3 id=\"设置文件共享\"><a href=\"#设置文件共享\" class=\"headerlink\" title=\"设置文件共享\"></a>设置文件共享</h3><p>两台计算机都打开文件资源管理器，鼠标右键点击需要使用的磁盘，比如D盘，选择<code>属性</code>，再点击<code>共享</code>，选择<code>高级共享</code>，在弹出来的窗口中选择<code>权限</code>，在权限窗口中选择<code>Everyone</code>用户，并在下面的权限选择中将<code>完全控制</code>勾选上并应用。注意这里是两台电脑都需要进行这样的操作<img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/%E8%AE%BE%E7%BD%AE%E5%85%B1%E4%BA%AB.gif\" alt=\"设置共享\" style=\"zoom:60%;\" /></p>\n<p>计算机A按下Win + R并输入<code>\\\\192.168.100.101（也就是计算机B的ip地址）</code>，若能够访问，那么会弹出一个窗口让你输入用户名以及密码，这里的用户名和密码是计算机B上的用户名和密码，输入之后点击<code>记住凭证</code>，此时应该就能从计算机A上看到计算机B上的D盘了</p>\n<p>计算机B上操作同上，但是需将ip地址换为计算机A的地址</p>\n<h3 id=\"CC配置\"><a href=\"#CC配置\" class=\"headerlink\" title=\"CC配置\"></a>CC配置</h3><p>那么现在已经确保了两台计算机能够互相交换文件了，现在就打开CC进行配置。</p>\n<p>这里将计算机A作为<strong>主机</strong>，计算机B作为<strong>从机</strong>，我将<code>项目文件</code>，<code>任务序列</code>，<code>资源文件</code>都放在主机上，主机打开<code>ContextCapture Center Master</code>然后在自己选择的路径创建项目，这里以我电脑的实际情况<code>D:\\Users\\XOS\\Documents\\CC\\TestProject</code>为例。由于<strong>计算机集群</strong>需要使用<strong>UNC网络路径</strong>，所以这里路径应改为“<code>//目标主机的ip地址/d/Users/XOS/Documents/CC/TestProject</code>”，而我这里计算机A为主机且所有文件也都位于计算机A的话这里就输入<code>//192.168.100.100/d/Users/XOS/Documents/CC/TestProject</code><img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240515005835879.png\" alt=\"创建工程\"></p>\n<p>创建好项目之后在项目页面左边的文件树点击一下<strong>最顶端的项目名称</strong>，在右方的页面中点击<code>选项</code>，并检查并将以下路径<strong>都修改为网络路径</strong>，其中任务序列路径我已经提前创建好了，和项目文件夹在同一目录下，为jobs<img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240515010454622.png\" alt=\"计算机集群\"></p>\n<p>到这里就算主机配置好了，接下来设置从机</p>\n<p>由于从机只需要运行CC引擎，所以直接打开CCSettings（如果找不到CCSettings.exe，<span class=\"spoiler\" onclick=\"this.classList.toggle('spoiler')\"><span class=\"spoiler-blur \">请鼠标右键点击桌面上的ContextCapture Center Master快捷方式并打开文件所在位置，CCSettings.exe就在这里）</span></span>，进入配置页面，修改任务序列目录为和主机的任务序列目录<strong>一样</strong>的文件夹<img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240515011325553.png\" alt=\"从机配置\"></p>\n<p>设置好之后在从机上点击<code>确定</code>，并直接启动CC引擎。</p>\n<p>回到主机界面上，往项目里面添加照片，添加好之后注意一点就是这里你选择照片并添加后，它的路径其实是<strong>绝对路径</strong>，也就不符合我们计算机集群所需要使用的<strong>UNC网络路径</strong>，所以需要修改一下。</p>\n<p>打开ContextCapture Center的资源路径管理器，然后看到已添加的影像集合的本地路径，双击并将其修改为网络路径，比如，若我的照片在<code>D:\\zhengshe</code>中，那么它在计算机A上的网络路径就是“<code>//192.168.100.100/d/zhengshe</code>”，修改好之后点击右边的<code>更新状态</code>，如果<code>本地状态</code>显示为<code>可访问</code>那就搞定了<img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240515012138376.png\" alt=\"资源路径修改\"></p>\n<p>这个时候在主机上启动<strong>CC引擎</strong>，再点击<code>提交空中三角测量计算</code>，将空三的详细设置调整好并提交后，点击<code>监视任务序列</code>，若显示为<code>2个运算引擎端</code>就算成功了，而作业详细信息展开后右边正在运行的任务则会显示当前计算机A和B正在运行的任务，如果发现正在运行的任务中<strong>只显示了一台电脑</strong>，有可能是当前任务项只有一个，只能分配个一台电脑，跑空三的时候多为这种情况。而重建项目不论是正射影像还是倾斜影像这种分了多个任务项的生产项目基本上都是两台电脑各自得到一个不同的任务项<strong>同时运行</strong></p>\n<p><img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/4b74818c41f0a755462b077ba980a23e.png\" alt=\"计算机集群运行项目\"></p>\n<p>这里的图片是找的一个正在跑的项目的截图，与上面举的例子稍有不同</p>\n<p>就此，计算机集群的基本使用方法大概就是这些了。</p>\n","feature":true,"text":"最近航测课的实训作业下来了，其正射影像的照片大约900到1000多张图片，倾斜影像更是高达5000张。这些照片跑的项目对于单独的笔记本电脑来说负担相当大，要耗费...","permalink":"/post/1522143e4defc151fca457b7d922878e","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"航测","slug":"航测","count":1,"path":"api/categories/航测.json"},{"name":"课程","slug":"航测/课程","count":1,"path":"api/categories/航测/课程.json"}],"tags":[{"name":"ContextCaptureCenter","slug":"ContextCaptureCenter","count":1,"path":"api/tags/ContextCaptureCenter.json"},{"name":"软件","slug":"软件","count":2,"path":"api/tags/软件.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">准备工作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C\"><span class=\"toc-text\">设置网络</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB\"><span class=\"toc-text\">设置文件共享</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#CC%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">CC配置</span></a></li></ol></li></ol>","author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Pixhawk飞控事件汇总","uid":"701bc17731ac4fc87b68301cbb3d53db","slug":"701bc17731ac4fc87b68301cbb3d53db","date":"2024-06-21T16:54:26.000Z","updated":"2024-06-22T03:31:15.000Z","comments":true,"path":"api/articles/701bc17731ac4fc87b68301cbb3d53db.json","keywords":null,"cover":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/Pixhawk-1.jpg","text":"最近装调课上体验了Pixhawk飞控的配置与调试，遇到了一些问题，大多数问题都在网上能查到解决方法，蜂鸣器报错含义在Pixhawk官网上也有，难度也就不那么大了...","permalink":"/post/701bc17731ac4fc87b68301cbb3d53db","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"课程","slug":"课程","count":4,"path":"api/categories/课程.json"}],"tags":[{"name":"装调","slug":"装调","count":1,"path":"api/tags/装调.json"},{"name":"飞控","slug":"飞控","count":1,"path":"api/tags/飞控.json"}],"author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"重航两江校园网同时登录两台手机或电脑","uid":"6ff25304366cbef72174e3c9a2bdc051","slug":"6ff25304366cbef72174e3c9a2bdc051","date":"2024-04-22T16:52:12.000Z","updated":"2024-04-23T04:28:58.000Z","comments":true,"path":"api/articles/6ff25304366cbef72174e3c9a2bdc051.json","keywords":null,"cover":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/Konachan.com%20-%20375698%20sample.jpg","text":"关于校园网 重航两江校区这边的话，联通校园卡给的宽带是限制了一部手机和一台电脑同时使用。根据需求有时候需要两台手机或者两台电脑使用的话就相当的麻烦了，甚至很多同...","permalink":"/post/6ff25304366cbef72174e3c9a2bdc051","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"网络","slug":"网络","count":1,"path":"api/categories/网络.json"}],"tags":[{"name":"网络","slug":"网络","count":1,"path":"api/tags/网络.json"}],"author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}